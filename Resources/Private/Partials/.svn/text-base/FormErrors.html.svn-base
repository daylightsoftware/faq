{namespace h=HDNET\Hdnet\ViewHelpers}

<f:form.validationResults>
	<f:if condition="{validationResults.flattenedErrors}">
		<div class="typo3-message message-error">
			<h3>Bitte überprüfen Sie Ihre Eingabe</h3>
			<ul>
				<f:for each="{validationResults.flattenedErrors}" as="errors" key="propertyPath">
					<f:for each="{errors}" as="error">
						<li>
							<f:if condition="{namespace} != ''">
								<f:then>
									<f:if condition="{error.propertyName}">
										<f:then>
											<f:alias map="{message: 'error.{namespace}.{propertyPath}.{error.propertyName}.{error.code}: {error}'}">
												<h:translate key="error.{namespace}.{propertyPath}.{error.propertyName}.{error.code}">
													{message}
												</h:translate>
												<span style="display: none;visibility: hidden;">{message}</span>
											</f:alias>
										</f:then>
										<f:else>
											<f:alias map="{message: 'error.{namespace}.{propertyPath}.{error.code}: {error}'}">
												<h:translate key="error.{namespace}.{propertyPath}.{error.code}">{message}
												</h:translate>
												<span style="display: none;visibility: hidden;">{message}</span>
											</f:alias>
										</f:else>
									</f:if>
								</f:then>
								<f:else>
									<f:if condition="{error.propertyName}">
										<f:then>
											<f:alias map="{message: 'error.{propertyPath}.{error.propertyName}.{error.code}: {error}'}">
												<h:translate key="error.{propertyPath}.{error.propertyName}.{error.code}" default="{message}" />
												<span style="display: none;visibility: hidden;">{message}</span>
											</f:alias>
										</f:then>
										<f:else>
											<f:alias map="{message: 'error.{propertyPath}.{error.code}: {error}'}">
												<h:translate key="error.{propertyPath}.{error.code}" default="{message}" />
												<span style="display: none;visibility: hidden;">{message}</span>
											</f:alias>
										</f:else>
									</f:if>
								</f:else>
							</f:if>
						</li>
					</f:for>
				</f:for>
			</ul>
		</div>
	</f:if>
</f:form.validationResults>
